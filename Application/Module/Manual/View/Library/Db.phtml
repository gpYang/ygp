<div id="gird">
    <div class="inner">
        <div class="book-title"><h1>4.1 db类</h1></div>
        <hr>
        <div class="book-content">
            本框架DB的使用方法类似于zf2
            <h3>from():</h3>
            <div class="code">
                $from = $this->from('table');<span class="note">//from table</span><br>
                $from = $this->from(array('tab' => 'table'));<span class="note">//from table as tab</span>
            </div>
            <h3>columns():</h3>
            <div class="code">
                $from->columns('`name`, `key`');<span class="note">//select `name`, `key`</span><br>
                $from->columns(array('n' => 'name', 'key'))<span class="note">//select `name` as 'n', `key`</span>
            </div>
            <h3>join():</h3>
            <div class="code">
                $join = $from->join(
                <p class="in_array">array('join_tab' => 'join_table'),</p>
                <p class="in_array">'join_tab.id=tab.id',</p>
                <p class="in_array">'name,key',</p>
                );<span class="note">//... join_tab.name,join_tab.key ... inner join join_table as join_tab on join_tab.id=tab.id</span><br>
                $join = $from->join(
                <p class="in_array">'join_table',</p>
                <p class="in_array">'tab.id = tab.id', </p>
                <p class="in_array">array('n' => 'name', 'key'),</p>
                <p class="in_array">'left'</p>
                );<span class="note">//... join_table.name as n,join_table.key ... left join join_table on join_table.id=tab.id</span>
            </div>
            <h3>where/having():</h3>
            <div class="code">
                $where = $from->where("`key` LIKE '%1%'");<span class="note">//原样条件where `key` LIKE '%1%'</span><br>
                $where = $from->where(array(array('key' => '1'), 'name' => null), 'or', true);<span class="note">//多条件... OR (`key` = '1' AND `name` IS NULL)</span><br>
                $where = $from->where(array('key' => array('1', '2'), 'or', true);<span class="note">//IN条件... OR (`key` IN ('1', '2'))</span>
            </div>
            <h3>order():</h3>
            <div class="code">
                $order = $from->order('id DESC');
                $order = $from->order(array('name ASC', 'age DESC'));
            </div>
            <h3>limit() & offset():</h3>
            <div class="code">
                $limit = $from->limit(5);<span class="note">//limit 5</span><br>
                $offset = $from->offset(10);<span class="note">//offset 10</span><br>
                $limit = $from->limit('5, 10');<span class="note">//limit 5, 10</span>
            </div>
            ------------------------------------------------------------------------------------------------------------------------------------------<br>
            <p class="notice">操作都在最后调用</p>
            <h3>select():</h3>
            <div class="code">
                $from->select();<span class="note">//select ...</span><br>
            </div>
            <h3>update():</h3>
            <div class="code">
                $from->update(array('key' => '1234', 'name' => 'tom'));<span class="note">//update ... set key = 1234, name = tom ...</span><br>
            </div>
            <h3>delete():</h3>
            <div class="code">
                $from->delete();<span class="note">//delete ...</span><br>
            </div>
            <h3>insert():</h3>
            <div class="code">
                $from->insert(array('key' => '1234', 'name' => 'tom'));<span class="note">//insert into ... (key, name) values (1234, tom)</span><br>
                $from->insert(array('key, 'name'), 'select from table2 where id = 1');<span class="note">//insert into ... (key, name) select ...</span>
            </div>
        </div>
    </div>
</div>
